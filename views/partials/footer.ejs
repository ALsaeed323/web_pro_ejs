<footer class="text-center">Copyright Spring 2023 The Awesome SWE230</footer>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

<script>
  const redirect = async (link) => {
    window.location.href = link;
  };
    const addToCartHandler = async (productId) => {
      const fet = await fetch("/cart/add", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({ id: productId }),
      });
    
    if(fet.status === 200) {
        window.location.reload();
    }
    };
    const form = document.getElementById('loginForm');
        form.addEventListener('submit', async (e) => {
          e.preventDefault();
          const email = document.getElementById('loginEmail').value;
          const password = document.getElementById('loginPassword').value;
          const response = await fetch('/login', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ email, password }),
          });
          
          if (response.status === 200) {
            window.location.href = '/';
          } else {
            const data = await response.json(); // extract the body data
            console.log(data);
            alert('Invalid email or password');
          }
        });
  </script>